<canvas id="c" width="400" height="400" style="border: 1px solid #ccc;"></canvas>
<!-- 引入 Fabric.js -->
<script src="https://cdn.bootcdn.net/ajax/libs/fabric.js/521/fabric.js"></script>

<script>

const fCanvas = new fabric.Canvas('c')
    
    const lineArr = []
    for (let i = 0; i < 100; i++) {
        const line = new fabric.Line([
            i * 10,
            0,
            i * 10,
            1000,
        ], {
            stroke: 'black',
            selectable: false,
            strokeWidth: .3
        })
        lineArr.push(line)
    }
    for (let i = 0; i < 100; i++) {
        const line = new fabric.Line([
            0,
            i * 10,
            1000,
            i * 10,
        ], {
            stroke: 'black',
            selectable: false,
            strokeWidth: .3
        })
        lineArr.push(line)
    }
    const backGroup = new fabric.Group(lineArr, { selectable: false });
    fCanvas.add(backGroup)
    const rect = new fabric.Rect({
        x: 100,
        y: 100,
        width: 200,
        height: 200,
        fill: 'red',
        stroke: 'black',
        strokeWidth: 2
    })
    fCanvas.add(rect)
    const circle = new fabric.Circle({
        radius: 200, fill: 'green', left: 600, top: 600
    })

    fCanvas.add(circle)
    
    fCanvas.on('mouse:down', function (opt) {
        var evt = opt.e;
            this.isDragging = true;
            this.selection = false;
            this.lastPosX = evt.clientX;
            this.lastPosY = evt.clientY;
    });
    fCanvas.on('mouse:move', function (opt) {
        if (this.isDragging) {
            var e = opt.e;
            var vpt = this.viewportTransform;
            vpt[4] += e.clientX - this.lastPosX;
            vpt[5] += e.clientY - this.lastPosY;
            this.requestRenderAll();
            this.lastPosX = e.clientX;
            this.lastPosY = e.clientY;
            var zoom = fCanvas.getZoom();
            var vpt = this.viewportTransform;
            if (zoom < 400 / 1000) {
                vpt[4] = 200 - 1000 * zoom / 2;
                vpt[5] = 200 - 1000 * zoom / 2;
            } else {
                if (vpt[4] >= 0) {
                    vpt[4] = 0;
                } else if (vpt[4] < fCanvas.getWidth() - 1000 * zoom) {
                    vpt[4] = fCanvas.getWidth() - 1000 * zoom;
                }
                if (vpt[5] >= 0) {
                    vpt[5] = 0;
                } else if (vpt[5] < fCanvas.getHeight() - 1000 * zoom) {
                    vpt[5] = fCanvas.getHeight() - 1000 * zoom;
                }
            }
        }
    });
    fCanvas.on('mouse:up', function (opt) {
        this.setViewportTransform(this.viewportTransform);
        this.isDragging = false;
        this.selection = true;
    });
</script>